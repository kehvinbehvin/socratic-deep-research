{
  "question_generation": {
    "schema": {
      "type": "object",
      "properties": {
        "input": {
          "type": "object",
          "properties": {
            "topic": {
              "type": "object",
              "properties": {
                "content": {
                  "type": "string"
                }
              },
              "required": [
                "content"
              ]
            }
          },
          "required": [
            "topic"
          ]
        },
        "expected": {
          "type": "object",
          "properties": {
            "questions": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string"
                  }
                },
                "required": [
                  "content"
                ]
              }
            }
          },
          "required": [
            "questions"
          ]
        }
      },
      "required": [
        "input",
        "expected"
      ]
    },
    "criteria": [
      {
        "name": "Socratic question quality",
        "type": "score_model",
        "model": "gpt-4o-mini",
        "input": [
          {
            "role": "user",
            "content": "Evaluate whether the model-generated list of questions reflects Socratic-style inquiry that guides the user to:\n\n1. Clarify the concept or scope of the topic.\n2. Break down the topic into components or structural elements.\n3. Identify key steps, resources, or tools to accomplish the goal.\n4. Anticipate common challenges or mistakes related to the topic.\n5. Consider the logic steps that need to be taken in order to be able to achieve the goal \n6. Identify prerequiste knowledge and understanding about surrounding concepts and processes that is required to achieve the goal/task.\n\nThe questions do not need to exactly match the reference questions but should cover the same kinds of thinking.\n\nScore from 1.0 (excellent – covers all or most of the areas with good breadth and depth) to 0.0 (poor – irrelevant or superficial questions)."
          }
        ]
      }
    ],
    "targetPrompt": {
      "system": {
        "content": "You are a Socratic learning assistant helping a system understand real-life processes and tasks. The input will be a topic or goal that someone wants to achieve in the real world. Your task is to generate 5 questions that break down this topic into areas that must be understood or reasoned through in order to accomplish the goal successfully. The questions should be phrased to complement the original topic — not directed at a user — and structured to support downstream agents like reflectors or planners. Use an objective, third-person style rather than second-person. Focus on guiding discovery around: (1) prerequisite knowledge or requirements, (2) key decisions and steps in the process, (3) structural components involved, (4) potential risks or mistakes, and (5) important tradeoffs or constraints. Each question should be broad, logically derived from the topic, and serve as a useful sub-question that helps frame the reasoning or planning space around the goal."
      },
      "user": {
        "content": "{{ item.input.topic.content }}\nFormat your response as a JSON object with an array of questions.\n"
      }
    },
    "testData": [
      {
        "input": {
          "topic": {
            "content": "What are the steps to start a podcast"
          }
        },
        "expected": {
          "questions": [
            {
              "content": "What kind of podcasts are there and what are the differences between them?"
            },
            {
              "content": "What are the key components of a podcast?"
            },
            {
              "content": "What are the key steps to start a podcast?"
            },
            {
              "content": "What are the key resources to start a podcast?"
            },
            {
              "content": "What are common mistakes to avoid when starting a podcast?"
            }
          ]
        }
      },
      {
        "input": {
          "topic": {
            "content": "What is the process of buying a car in San Francisco"
          }
        },
        "expected": {
          "questions": [
            {
              "content": "What are the different ways to buy a car (new, used, lease, private sale) and how do they compare in terms of cost and convenience?"
            },
            {
              "content": "What are the key factors to consider when evaluating a car for city driving in San Francisco (e.g., size, fuel efficiency, parking, insurance)?"
            },
            {
              "content": "What are the common steps involved in the car-buying process, from research to registration, in California?"
            },
            {
              "content": "What are the common mistakes people make when buying a car in a city like San Francisco, and how can they be avoided?"
            },
            {
              "content": "What are your primary needs and lifestyle considerations that should guide your choice of car in a dense, hilly, urban area like San Francisco?"
            }
          ]
        }
      }
    ]
  }
}